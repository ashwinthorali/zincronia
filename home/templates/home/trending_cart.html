
  <script>
    $('.addtocartManishtr').click(function(e){
        e.preventDefault();
        name = $(this).data('id');
        url_pattern = "/products/add-to-cart/"+name+"/";
        $.ajax({
            type: "GET",
            url: url_pattern,
            data:{
                'name':name
            },
            success: function (response) {
                total_item = response.items;
                product_id = response.pid;
                cart_id = response.cart_id;
                qty = response.items;
                new_val = response.new_val;
                $('.cartDataValue').html(new_val);
                if (qty > 0){
                    np2l = "trnp2l-"+product_id;
                    qvno = "trqvno-"+product_id;
                    $('#'+np2l).val(qty);
                    $('#'+qvno).val(qty);
                    inp2l = "trinp2l-"+product_id;
                    dnp2l = "trdnp2l-"+product_id;
                   
                    $('#'+np2l).val(qty);
                    $('#'+inp2l).attr('data-id', cart_id);
                    $('#'+dnp2l).attr('data-id', cart_id);
                }
               
                p1l = "trp1l-"+product_id;
                p2l = "trp2l-"+product_id;
                dp2l = "trdp2l-"+product_id;
                qvr = "trqvr-"+product_id;
                qva = "trqva-"+product_id;
                
                // $('#d'+p1l).attr('data-id', cart_id);
                $('#'+p1l).addClass('qd-none');
                $('#'+p2l).removeClass('qd-none');
                $('#'+dp2l).attr('data-id', cart_id);
                
                $('#'+qvr).removeClass('qd-none');
                $('#'+qva).addClass('qd-none');
                $('#'+qvr).attr('data-id', cart_id);
                   
            },
            error:function (data) {
                console.log('An error occurred.');
                
            },
        
        });
        $(this).removeData();
    });

    
 </script>

<script>
    $(document).on("click", '.removetocartManishtr', function(e){
        e.preventDefault();
        name = $(this).data('id');
        url_pattern = "/products/remove-from-cart/"+name+"/";
        $.ajax({
            type: "GET",
            url: url_pattern,
            data:{
                'name':name
            },
            success: function (response) {
                total_item = response.items;
                product_id = response.pid;
                new_val = response.new_val;
                $('.cartDataValue').html(new_val);
                p1l = "trp1l-"+product_id;
                p2l = "trp2l-"+product_id;
                $('#'+p2l).addClass('qd-none');
                $('#'+p1l).removeClass('qd-none');
                qvr = "trqvr-"+product_id;
                qva = "trqva-"+product_id;
                $('#'+qvr).addClass('qd-none');
                $('#'+qva).removeClass('qd-none');
                
                
                   
            },
            error:function (data) {
                console.log('An error occurred.');
                
            },
        });
        
        $(this).removeData();
        
    });

    
 </script>


<script>
    $(document).on("click", '.trincrease', function(e){
        e.preventDefault();
        name = $(this).data('id');
        pid = $('#trmy_productID').val()
        // alert(name);
        url_pattern = "/products/increase-item/"+name+"/";
        $.ajax({
            type: "GET",
            url: url_pattern,
            data:{
                'name':name,
                'pid':pid,
            },
            success: function (response) {
                qty = response.qty;
                product_id = response.pid;
                console.log(qty)
                cart_id = response.cart_id;
                p2l = "trnp2l-"+product_id;
                $('#'+p2l).val(qty);
            
                qvno = "trqvno-"+product_id;
                $('#'+qvno).val(qty);
            
                inp2l = "trinp2l-"+product_id;
                dnp2l = "trdnp2l-"+product_id;
                qvin = "trqvic-"+product_id;
                qvdc = "trqvdc-"+product_id;
                
                $('#'+inp2l).attr('data-id', cart_id);
                $('#'+dnp2l).attr('data-id', cart_id);
                $('#'+qvin).attr('data-id', cart_id);
                $('#'+qvdc).attr('data-id', cart_id);
            
                   
            },
            error:function (data) {
                console.log('An error occurred.');
                
            },
        });
        
        $(this).removeData();
        
    });

    
 </script>



<script>
    $(document).on("click", '.trdecrease', function(e){
        e.preventDefault();
        name = $(this).data('id');
        pid = $('#trmy_productID').val();
        
        // alert(name);
        url_pattern = "/products/decrease-item/"+name+"/";
        $.ajax({
            type: "GET",
            url: url_pattern,
            data:{
                'name':name,
                'pid':pid,
            },
            success: function (response) {
                qty = response.qty;
                product_id = response.pid;
                console.log(qty)
                p2l = "trnp2l-"+product_id;
                $('#'+p2l).val(qty);
                qvno = "trqvno-"+product_id;
                $('#'+qvno).val(qty);
            
                   
            },
            error:function (data) {
                console.log('An error occurred.');
                
            },
        });
        
        $(this).removeData();
        
    });

    
 </script>